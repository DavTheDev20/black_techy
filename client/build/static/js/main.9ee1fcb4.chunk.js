(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),r=n(17),o=n.n(r),i=(n(26),n(8)),l=n.n(i),u=n(18),j=n(6),h=n(5),b=n.n(h),d=n(63),p=(n(46),function(){var e=Object(a.useState)({title:"",content:""}),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),o=Object(j.a)(r,2),i=o[0],h=o[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),f=O[0],v=O[1],x=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://blackandtechy.herokuapp.com/api").then((function(e){h(e.data)}));case 3:v(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Error recieving posts");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);var m=function(e){var t=e.target,n=t.name,c=t.value;"title"===n?s((function(e){return{title:c,content:e.content}})):"content"===n&&s((function(e){return{title:e.title,content:c}}))},g=function(e){var t=e.target.value;b()({url:"https://blackandtechy.herokuapp.com/api/delete",method:"DELETE",data:{_id:t}}).then((function(){console.log("Delete request sent to server."),x()})).catch((function(){return console.log("Internal server error")}))},k=(new Date).getFullYear();return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{children:"Black And Techy"}),Object(c.jsx)("img",{src:"/images/blkpower.png",alt:"Black Power Fist"})]}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b()({url:"https://blackandtechy.herokuapp.com/api/save",method:"POST",data:{title:n.title,content:n.content}}).then((function(){console.log("Sent post to server"),s({title:"",content:""}),x()})).catch((function(){console.log("Internal server error")}))},children:[Object(c.jsx)("h2",{children:"Create Post"}),Object(c.jsx)("input",{type:"text",name:"title",placeholder:"Title",autoComplete:"off",onChange:m,value:n.title}),Object(c.jsx)("br",{}),Object(c.jsx)("textarea",{className:"content-section",name:"content",placeholder:"content",rows:10,cols:30,onChange:m,value:n.content}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"submit-button",children:"Submit Post"})]}),Object(c.jsx)("h2",{className:"posts-heading",children:"Posts"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{style:{visibility:f?"hidden":"visable",position:"absolute",marginLeft:"25px"},children:Object(c.jsx)(d.a,{})}),Object(c.jsx)("div",{className:"posts",children:i.map((function(e,t){return Object(c.jsxs)("div",{className:"post",children:[Object(c.jsx)("h3",{children:e.title}),Object(c.jsx)("p",{children:e.content}),Object(c.jsx)("button",{className:"delete-button",value:e._id,onClick:g,children:"Delete Post"})]},e._id)}))}),Object(c.jsx)("div",{className:"push"})]}),Object(c.jsxs)("footer",{children:["\xa9 Davin Reid ",k]})]})}),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),O()}},[[51,1,2]]]);
//# sourceMappingURL=main.9ee1fcb4.chunk.js.map